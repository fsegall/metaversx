"use strict";import{a as k,b as S}from"../../__chunks__/chunk-3LTFYSA2.js";import"../../__chunks__/chunk-MKDFT2FS.js";import{a as o,b as w}from"../../__chunks__/chunk-2SD2J5VG.js";import{a as l,b as x}from"../../__chunks__/chunk-M3LDFPEN.js";import"../../__chunks__/chunk-7ZURC7DX.js";import"../../__chunks__/chunk-U62W3J3X.js";import"../../__chunks__/chunk-NYCEZZHS.js";import"../../__chunks__/chunk-FZETK7WO.js";import"../../__chunks__/chunk-YXMORGRT.js";import"../../__chunks__/chunk-KQ4EOTHD.js";import"../../__chunks__/chunk-MTURKDDN.js";import"../../__chunks__/chunk-5PMKZNDM.js";import"../../__chunks__/chunk-N2ITRDLW.js";import"../../__chunks__/chunk-FN7APMDR.js";import"../../__chunks__/chunk-6GM5RRPV.js";import{s as h}from"../../__chunks__/chunk-SFJMMIST.js";import"../../__chunks__/chunk-35NPSCME.js";import"../../__chunks__/chunk-NLBV36VE.js";import"../../__chunks__/chunk-XNFCZFZP.js";import"../../__chunks__/chunk-LC6IJK6K.js";import"../../__chunks__/chunk-TS7NZLPM.js";import"../../__chunks__/chunk-RH342QYX.js";import"../../__chunks__/chunk-PAF3S5SG.js";import"../../__chunks__/chunk-2ZAHOKFN.js";import"../../__chunks__/chunk-J6OOPWJH.js";import"../../__chunks__/chunk-2WP7OVEE.js";import"../../__chunks__/chunk-YV6QV44R.js";import"../../__chunks__/chunk-UYVK44XP.js";import"../../__chunks__/chunk-QMICWEL5.js";import"../../__chunks__/chunk-VAEVHQWJ.js";import"../../__chunks__/chunk-JRB2SSEU.js";import"../../__chunks__/chunk-5O3TBJ6D.js";import"../../__chunks__/chunk-4VEUUXGZ.js";import"../../__chunks__/chunk-JYGCCCPE.js";import"../../__chunks__/chunk-O5PF5JQX.js";import"../../__chunks__/chunk-26GS6QMF.js";import"../../__chunks__/chunk-U3TQIHS4.js";import"../../__chunks__/chunk-IVF47HJD.js";import"../../__chunks__/chunk-JEZQCBXU.js";import"../../__chunks__/chunk-5MOSR5EF.js";import"../../__chunks__/chunk-AAMINW2L.js";import"../../__chunks__/chunk-4WFQSRWR.js";import"../../__chunks__/chunk-NGU4IN6H.js";import"../../__chunks__/chunk-A5B6IUQI.js";import"../../__chunks__/chunk-HZJSZU2M.js";import"../../__chunks__/chunk-EO3NQAIX.js";import"../../__chunks__/chunk-VSPND6ZN.js";import"../../__chunks__/chunk-POG6DTE2.js";import"../../__chunks__/chunk-NLU2B6MT.js";import"../../__chunks__/chunk-AQQ7Q6DO.js";import"../../__chunks__/chunk-7BSLSTCH.js";import"../../__chunks__/chunk-LHJJDJM4.js";import"../../__chunks__/chunk-BZYEY4V6.js";import"../../__chunks__/chunk-XCHMTYJH.js";import"../../__chunks__/chunk-XK4XOW72.js";import"../../__chunks__/chunk-KLFPAZSS.js";import"../../__chunks__/chunk-4K4XSAZL.js";import"../../__chunks__/chunk-OF3VHHUR.js";import"../../__chunks__/chunk-JW7ZCUB4.js";import"../../__chunks__/chunk-QOTQ224Y.js";import"../../__chunks__/chunk-Q5D2FQ7L.js";import"../../__chunks__/chunk-FFVUERI3.js";import"../../__chunks__/chunk-X42PRFW5.js";import"../../__chunks__/chunk-6BNUA54S.js";import"../../__chunks__/chunk-GDTJMVMH.js";import"../../__chunks__/chunk-EK2PFAJS.js";import"../../__chunks__/chunk-KO2IXJ4X.js";import"../../__chunks__/chunk-NMNLUEGR.js";import"../../__chunks__/chunk-I2ZHFI3P.js";import"../../__chunks__/chunk-SPPPKEOC.js";import"../../__chunks__/chunk-ZEYVM5F2.js";import"../../__chunks__/chunk-KWQPHBRJ.js";import"../../__chunks__/chunk-UE2FSI5A.js";import"../../__chunks__/chunk-7WXEH6OF.js";import"../../__chunks__/chunk-VQT6KCXZ.js";import"../../__chunks__/chunk-BQBE7OZR.js";import"../../__chunks__/chunk-Z6MQL4VU.js";import"../../__chunks__/chunk-YRZKLN43.js";import"../../__chunks__/chunk-5VA4YVKG.js";import"../../__chunks__/chunk-ZRD6IVNQ.js";import"../../__chunks__/chunk-4M54TFO5.js";import"../../__chunks__/chunk-AJ2BB5A4.js";import"../../__chunks__/chunk-AAI7OAOT.js";import"../../__chunks__/chunk-RCR5CXNR.js";import"../../__chunks__/chunk-BGPM5G3U.js";import"../../__chunks__/chunk-MOK7GWWG.js";import"../../__chunks__/chunk-6KQXBAGR.js";import"../../__chunks__/chunk-BI7MFSOQ.js";import"../../__chunks__/chunk-OMXJDIGB.js";import"../../__chunks__/chunk-O45XCKJN.js";import"../../__chunks__/chunk-N3QTYKLF.js";import"../../__chunks__/chunk-HGEGFQPE.js";import"../../__chunks__/chunk-BVWI2L3S.js";import"../../__chunks__/chunk-LVCWBXY5.js";import"../../__chunks__/chunk-RCRKSEUY.js";import"../../__chunks__/chunk-GRW3KCAE.js";import"../../__chunks__/chunk-WHQSAWDV.js";import"../../__chunks__/chunk-FEOUN4DV.js";import"../../__chunks__/chunk-LXRRORKB.js";import"../../__chunks__/chunk-XP7XIF2Y.js";import"../../__chunks__/chunk-XIUKXK3G.js";import"../../__chunks__/chunk-6BE2DPWP.js";import"../../__chunks__/chunk-ZHMC3BOL.js";import"../../__chunks__/chunk-BQNI2XMA.js";import"../../__chunks__/chunk-7TW5V77R.js";import"../../__chunks__/chunk-UVSF3ULQ.js";import{a as i}from"../../__chunks__/chunk-2RJZ73G3.js";import"../../__chunks__/chunk-H6BZGL2Y.js";import"../../__chunks__/chunk-YN4N2RWE.js";import"../../__chunks__/chunk-FAX3FMRB.js";import"../../__chunks__/chunk-TVSTUCHH.js";import"../../__chunks__/chunk-6QDOHWW2.js";import"../../__chunks__/chunk-SNQ7GR7D.js";import"../../__chunks__/chunk-CCJG3WLD.js";import"../../__chunks__/chunk-ERDXC5XD.js";import"../../__chunks__/chunk-2PCYLQVD.js";import"../../__chunks__/chunk-AFPANWAD.js";import"../../__chunks__/chunk-6HPWNPI6.js";import"../../__chunks__/chunk-ZYJTJW6F.js";import"../../__chunks__/chunk-52HSUBIA.js";import"../../__chunks__/chunk-N7MHQ6JT.js";import"../../__chunks__/chunk-SAQ2TZS4.js";import"../../__chunks__/chunk-5DJROO27.js";import"../../__chunks__/chunk-UHY5IKDN.js";import"../../__chunks__/chunk-S55DZJQR.js";import"../../__chunks__/chunk-3DHA63I3.js";import{a as d,d as j}from"../../__chunks__/chunk-EVEX5BE5.js";import"../../__chunks__/chunk-FGWSRAY5.js";import"../../__chunks__/chunk-4HBJK2LF.js";import"../../__chunks__/chunk-RALSJ7UN.js";import"../../__chunks__/chunk-YVWYL6LI.js";import"../../__chunks__/chunk-6WZ7DVP7.js";import"../../__chunks__/chunk-GGMEVY45.js";import"../../__chunks__/chunk-EINSYDQM.js";import"../../__chunks__/chunk-OX4YARYJ.js";import"../../__chunks__/chunk-CHYGQARZ.js";import"../../__chunks__/chunk-MPMLX57E.js";import"../../__chunks__/chunk-YAG3DLEN.js";import"../../__chunks__/chunk-ND46PQDY.js";import"../../__chunks__/chunk-VMVJZ3J4.js";import"../../__chunks__/chunk-Q3Z4ME3Z.js";import"../../__chunks__/chunk-7UBLQIEN.js";import"../../__chunks__/chunk-EO5HNJ26.js";import"../../__chunks__/chunk-M2EF6X6N.js";import"../../__chunks__/chunk-6CPM3VCF.js";import"../../__chunks__/chunk-GG4E6LTK.js";import"../../__chunks__/chunk-MWI4VKSV.js";import"../../__chunks__/chunk-PXHBOM4A.js";import"../../__chunks__/chunk-PE53QU2C.js";import"../../__chunks__/chunk-ODNPHKQJ.js";import"../../__chunks__/chunk-HGOHQNWK.js";import"../../__chunks__/chunk-5KGDRZSV.js";import"../../__chunks__/chunk-VARXXNIT.js";import"../../__chunks__/chunk-O7A5QY4S.js";import"../../__chunks__/chunk-Z3FCAX26.js";import"../../__chunks__/chunk-J42ZO72F.js";import"../../__chunks__/chunk-6ZGFYJ6T.js";import"../../__chunks__/chunk-75SQ7UW4.js";import"../../__chunks__/chunk-VI7ADJXL.js";import"../../__chunks__/chunk-K5Y5PIZE.js";import"../../__chunks__/chunk-7XYHQ72T.js";import"../../__chunks__/chunk-UGBEFOBM.js";import"../../__chunks__/chunk-6NZ6PUBT.js";import"../../__chunks__/chunk-HNDDVE4V.js";import"../../__chunks__/chunk-KM2BXRAX.js";import"../../__chunks__/chunk-JXJG3QMF.js";import"../../__chunks__/chunk-FDSDVDKW.js";import"../../__chunks__/chunk-27DX5WIQ.js";import"../../__chunks__/chunk-X2JZA2ND.js";import"../../__chunks__/chunk-MDZJ7LZR.js";import"../../__chunks__/chunk-WQFSDAGL.js";import"../../__chunks__/chunk-U3D33KB2.js";import"../../__chunks__/chunk-RY7YMBVF.js";import"../../__chunks__/chunk-MCBGUPUJ.js";import"../../__chunks__/chunk-7YHU2LQD.js";import"../../__chunks__/chunk-I5EGQWWK.js";import"../../__chunks__/chunk-WTIKHG7D.js";import{a as c,b as p}from"../../__chunks__/chunk-OWBHRN3S.js";import"../../__chunks__/chunk-3HHAVSUJ.js";import"../../__chunks__/chunk-326XWAT2.js";import"../../__chunks__/chunk-E4ZF3CDC.js";import"../../__chunks__/chunk-JAKKMAZG.js";import"../../__chunks__/chunk-OKLK5GYW.js";import"../../__chunks__/chunk-W6HPOJ7Z.js";import"../../__chunks__/chunk-6LITAK4Z.js";import"../../__chunks__/chunk-VAA3NKK5.js";import"../../__chunks__/chunk-GVCPEY3I.js";import"../../__chunks__/chunk-JECE35KP.js";import"../../__chunks__/chunk-KDHNT4F5.js";import"../../__chunks__/chunk-7CT2Q6BT.js";import"../../__chunks__/chunk-AYDSW4BQ.js";import"../../__chunks__/chunk-EOZJRV5E.js";import"../../__chunks__/chunk-2SDQY5CF.js";import{f as g,j as u,m}from"../../__chunks__/chunk-HBP5N4FR.js";var T=g(v=>{m();h();j();p();S();w();x();jest.mock("reduxStore/selectors",()=>({addressSelector:jest.fn()}));jest.mock("reduxStore/store",()=>({store:{getState:jest.fn()}}));jest.mock("utils/window/getWindowLocation",()=>({getWindowLocation:jest.fn()}));jest.mock("./signTransactions",()=>({signTransactions:jest.fn()}));jest.mock("./utils/transformTransactionsToSign",()=>({transformTransactionsToSign:jest.fn()}));describe("sendBatchTransactions",()=>{beforeEach(()=>{jest.clearAllMocks()}),it("should call all the dependencies and return the expected result",()=>u(v,null,function*(){let e="erd1axhx4kenjlae6sknq7zjg2g4fvzavv979r2fg425p62wkl84avtqsf7vvv",r="12345",n=[[{receiver:e,sender:e,value:"0",data:"1"},{receiver:e,sender:e,value:"0",data:"2"}],[{receiver:e,sender:e,value:"0",data:"3"}],[{receiver:e,sender:e,value:"0",data:"4"},{receiver:e,sender:e,value:"0",data:"5"},{receiver:e,sender:e,value:"0",data:"6"}]],t={},s="/callback",a=21e3;i.mockReturnValue(e),d.getState.mockReturnValue(()=>{}),c.mockReturnValue({pathname:s}),o.mockResolvedValue({sessionId:r}),l.mockResolvedValue([]);let f=yield k({transactions:n,transactionsDisplayInfo:t,minGasLimit:a});expect(i).toHaveBeenCalled(),expect(d.getState).toHaveBeenCalled(),expect(c).toHaveBeenCalled(),expect(l).toHaveBeenCalledWith({transactions:expect.any(Array),minGasLimit:a}),expect(o).toHaveBeenCalledWith({transactions:expect.any(Array),minGasLimit:a,callbackRoute:s,transactionsDisplayInfo:t,customTransactionInformation:{grouping:expect.any(Array),redirectAfterSign:!0,completedTransactionsDelay:void 0,sessionInformation:void 0,skipGuardian:void 0,signWithoutSending:!1}}),expect(f).toEqual({error:void 0,batchId:`${r}-${e}`})})),it("should prepare the grouping field with the indexes from the flat transactions array",()=>u(v,null,function*(){let e="erd1axhx4kenjlae6sknq7zjg2g4fvzavv979r2fg425p62wkl84avtqsf7vvv",r="12345",n=[[{receiver:e,sender:e,value:"0",data:"1"},{receiver:e,sender:e,value:"0",data:"2"}],[{receiver:e,sender:e,value:"0",data:"3"}],[{receiver:e,sender:e,value:"0",data:"4"},{receiver:e,sender:e,value:"0",data:"5"},{receiver:e,sender:e,value:"0",data:"6"}]],t={},s="/callback",a=21e3;i.mockReturnValue(e),d.getState.mockReturnValue({}),c.mockReturnValue({pathname:s}),o.mockResolvedValue({sessionId:r}),l.mockResolvedValue(n),yield k({transactions:n,transactionsDisplayInfo:t,minGasLimit:a}),expect(o).toHaveBeenCalledWith({transactions:n,minGasLimit:a,callbackRoute:s,transactionsDisplayInfo:t,customTransactionInformation:{grouping:[[0,1],[2],[3,4,5]],redirectAfterSign:!0,completedTransactionsDelay:void 0,sessionInformation:void 0,skipGuardian:void 0,signWithoutSending:!1}})}))})});export default T();
//# sourceMappingURL=sendBatchTransactions.test.js.map
