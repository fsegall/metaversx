import{a as P}from"./chunk-BKBOJDHG.js";import{a as E}from"./chunk-A4BGKKR5.js";import{c as C,d as u}from"./chunk-KLQ5IZ6C.js";import{a as w}from"./chunk-JFPXIJUW.js";import{a as v}from"./chunk-4UC4MIAP.js";import{i as M,s as J}from"./chunk-SFJMMIST.js";import{a as x,b as G}from"./chunk-NLBV36VE.js";import{b as k}from"./chunk-2RJZ73G3.js";import{a as z}from"./chunk-MPMLX57E.js";import{c as R,e as B}from"./chunk-Q3Z4ME3Z.js";import{b}from"./chunk-VARXXNIT.js";import{b as I,c as q}from"./chunk-VI7ADJXL.js";import{p as W}from"./chunk-EOZJRV5E.js";import{a as p,b as g,j as h,m as y}from"./chunk-HBP5N4FR.js";y();import{useCallback as K,useEffect as L,useRef as j}from"react";J();z();W();q();G();var A=i=>{let s=i.redirectRoute;s&&I({url:s})},mn=({sendSignedTransactionsAsync:i=v,sendSignedBatchTransactionsAsync:s=w})=>{let a=C(),{nonce:m}=u(k),e=u(M),o=j(!1),S=j([]),f=()=>{a(B()),o.current=!1},l=K(()=>h(void 0,null,function*(){var T;let D=Object.keys(e);for(let t of D){let n=e[t],F=(T=n==null?void 0:n.customTransactionInformation)==null?void 0:T.signWithoutSending;if(!n||!t||F){A(n);continue}if(S.current.includes(t))continue;let{transactions:r}=n;if(!r||!(n.status==="signed"&&!o.current))continue;o.current=!0,S.current.push(t);let c=yield P({session:n,sessionId:t,clearSignInfo:f,sendSignedTransactionsAsync:i,sendSignedBatchTransactionsAsync:s}),N="pending",O=r.map(d=>c!=null&&c.includes(d.hash)?g(p({},d),{status:N}):d);a(b({sessionId:t,submittedMessage:"submitted"})),a(R({sessionId:t,status:"sent",transactions:O})),f(),E(m+r.length),A(n);let[U]=r;x({transaction:U}),o.current=!1}}),[e,m]);return L(()=>{l()},[e,l]),null};export{mn as a};
//# sourceMappingURL=chunk-CYEDMI77.js.map
