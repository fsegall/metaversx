import{a as l}from"./chunk-EF4BFDM7.js";import{a as h}from"./chunk-FAVYLC7T.js";import{a as p}from"./chunk-AQPQAHXL.js";import{c as T}from"./chunk-KLQ5IZ6C.js";import{a as v}from"./chunk-MPMLX57E.js";import{b as i}from"./chunk-Q3Z4ME3Z.js";import{a as g}from"./chunk-JAKKMAZG.js";import{j as f,m as u}from"./chunk-HBP5N4FR.js";u();import{useCallback as m}from"react";v();g();function R(){let r=T(),{address:S}=h(),d=m(({sessionId:s,dropUnprocessedTransactions:a,serverTransactions:c,signedTransactions:e})=>{for(let t of e){let o=c.find(n=>n.txHash===t.hash);if(!o){a&&r(i({sessionId:s,status:"fail",transactionHash:t.hash}));continue}r(i({sessionId:s,status:o.status,transactionHash:t.hash,serverTransaction:o}))}},[r]);return m(s=>f(this,null,function*(){if(!s)return;let{transactions:a,isFailed:c,sessionId:e}=s;if(!a||a.length===0)return;if(c){for(let n of a)r(i({sessionId:e,status:"fail",transactionHash:n.hash}));return}let{data:t,success:o}=yield l(a.map(({hash:n})=>n).filter(n=>Boolean(n)));o&&t&&d({sessionId:e,dropUnprocessedTransactions:s.dropUnprocessedTransactions,serverTransactions:t,signedTransactions:a}),s.shouldRefreshBalance&&(yield p())}),[r,S,d])}export{R as a};
//# sourceMappingURL=chunk-6UPV43UI.js.map
