import{a as k}from"./chunk-EGDEMLP7.js";import{a as E}from"./chunk-5M6N3KME.js";import{a as C}from"./chunk-RIHRJ6IR.js";import{a as w}from"./chunk-SEMQ3WR7.js";import{a as x}from"./chunk-B2C4QN5R.js";import{a as M}from"./chunk-7Z5E2USX.js";import{a as R}from"./chunk-7RDTBR37.js";import{a as L}from"./chunk-YZACOE3U.js";import{a as W}from"./chunk-FVQYHHJ7.js";import{c as P,d}from"./chunk-KLQ5IZ6C.js";import{a as G,b as gn}from"./chunk-MTURKDDN.js";import{s as un}from"./chunk-SFJMMIST.js";import{a as c,b as ln}from"./chunk-35NPSCME.js";import{l as y,n as b}from"./chunk-S55DZJQR.js";import{a as dn}from"./chunk-MPMLX57E.js";import{i as D,k as s}from"./chunk-Q3Z4ME3Z.js";import{b as A,c as cn}from"./chunk-VI7ADJXL.js";import{a as h,b as sn}from"./chunk-OWBHRN3S.js";import{a as on}from"./chunk-JAKKMAZG.js";import{a as m,b as v,j as o,m as f}from"./chunk-HBP5N4FR.js";f();gn();un();dn();on();cn();ln();sn();function In(N){let{onCancel:U,verifyReceiverScam:F=!0,hasGuardianScreen:I}=N,{transactionsToSign:q,hasTransactions:B}=k(),V=d(y),j=C(),z=d(b),{account:H}=L(),{address:J,isGuarded:l,activeGuardianAddress:K}=H,{provider:O,providerType:Q}=R(),r=P(),X=x(),{transactions:Y,sessionId:e,callbackRoute:i,customTransactionInformation:a}=q||{};function Z(n){e&&r(s({sessionId:e,status:"cancelled"})),r(D(n))}let{pathname:_}=h(),$=i!=null&&_.includes(i),u=!(a!=null&&a.skipGuardian);function nn(n){return o(this,null,function*(){if(!w(n))return;let{needs2FaSigning:S,guardTransactions:tn}=M({transactions:n,sessionId:e,callbackRoute:i,isGuarded:l&&u,walletAddress:V}),p=n.map(t=>c(t));if(S){let t=yield tn();p=t?t.map(rn=>c(rn)):[]}!e||(r(s({sessionId:e,status:"signed",transactions:p})),i!=null&&(a==null?void 0:a.redirectAfterSign)&&!$&&A({url:i}))})}function en(){U(),X(e)}function an(n){return o(this,null,function*(){let T=Q!=="ledger"?O:yield j();return n?yield T.signTransaction(n):null})}let g=E({address:J,egldLabel:z,activeGuardianAddress:l&&u?K:void 0,transactionsToSign:B?Y:[],onGetScamAddressData:F?G:null,isLedger:W("ledger"),hasGuardianScreen:I,onCancel:en,onSignTransaction:an,onTransactionsSignError:Z,onTransactionsSignSuccess:nn});return v(m({},g),{callbackRoute:i,waitingForDevice:g.waitingForDevice})}export{In as a};
//# sourceMappingURL=chunk-U3M6NFUF.js.map
