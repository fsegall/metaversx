"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.recommendGasPrice = void 0;
// reference to original file: https://github.com/multiversx/mx-chain-go/blob/MX-16624-sandbox/txcache/sandbox/sandbox.js#L1
function recommendGasPrice({ transactionDataLength, transactionGasLimit, ppu }) {
    const MIN_GAS_LIMIT = 50000;
    const MIN_GAS_PRICE = 1000000000;
    const GAS_PER_DATA_BYTE = 1500;
    const GAS_PRICE_MODIFIER = 0.01;
    const GAS_PRICE_FALLBACK = MIN_GAS_PRICE;
    const MAX_GAS_PRICE = MIN_GAS_PRICE * 30;
    if (!ppu) {
        return GAS_PRICE_FALLBACK;
    }
    const dataCost = MIN_GAS_LIMIT + transactionDataLength * GAS_PER_DATA_BYTE;
    const executionCost = transactionGasLimit - dataCost;
    const initiallyPaidFee = transactionGasLimit * ppu;
    const gasPrice = Math.floor(initiallyPaidFee / (dataCost + executionCost * GAS_PRICE_MODIFIER));
    if (gasPrice < MIN_GAS_PRICE) {
        return MIN_GAS_PRICE;
    }
    if (gasPrice > MAX_GAS_PRICE) {
        return MAX_GAS_PRICE;
    }
    return gasPrice;
}
exports.recommendGasPrice = recommendGasPrice;
//# sourceMappingURL=recommendGasPrice.js.map